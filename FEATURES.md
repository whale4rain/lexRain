# 功能清单

## 当前功能

### 核心功能
- ✅ SM-2 间隔重复算法
- ✅ ECDICT 340万词库集成
- ✅ 双数据库架构（词典只读 + 进度读写）
- ✅ 智能选词（牛津3000、柯林斯星级、BNC/FRQ词频）

### 界面功能
- ✅ Dashboard - 统计信息、今日进度
- ✅ Review - 双面板滚动（释义 70% + 词形变化 30%）
- ✅ Wordbook - 单词本选择，按标签分类（支持乱序）
- ✅ Dictionary - 完整元数据显示、搜索、滚动
- ✅ History - 复习历史记录、导航
- ✅ Statistics - 间隔分布、每日复习统计

### 交互功能
- ✅ 双面板独立滚动（h/l 切换焦点，j/k 滚动）
- ✅ 浮窗查看详情（Dictionary/History 按 Enter）
- ✅ Vim 风格键位（hjkl + g/G）
- ✅ 滚动条自动显示
- ✅ 焦点视觉反馈（边框颜色 + [FOCUSED] 标记）

### 数据显示
- ✅ 词性解析为中文（n. 名词、v. 动词等）
- ✅ 考试标签解析（中考、高考、CET-4/6、考研、TOEFL、IELTS、GRE）
- ✅ 柯林斯星级（★ × N）
- ✅ 牛津3000标记
- ✅ 词形变化完整展示（过去式、过去分词、现在分词、第三人称单数、复数、比较级、最高级）
- ✅ 词频信息（BNC + 当代语料库）

## 版本历史

### v2.5 (2025-12-01)
**单词本功能**
- Wordbook: 按标签分类显示所有单词本（中考、高考、CET-4/6、考研、TOEFL、IELTS、GRE）
- Wordbook: 显示每个单词本的词汇量统计
- Wordbook: ↑/↓ 或 j/k 选择单词本
- Wordbook: s 键切换乱序/顺序模式（🔀/📚 图标）
- Wordbook: Enter 开始复习选中单词本
- Review: 支持单词本模式（ReviewMode::Wordbook）
  - 乱序模式: SQL `ORDER BY RANDOM()`
  - 顺序模式: 按重要性排序（oxford DESC, collins DESC, bnc ASC, frq ASC）
- Review: 单词本复习限制 100 词/次
- Database: `get_wordbooks()` - 获取所有单词本（按词数排序）
- Database: `get_words_by_tag(tag, limit, shuffle)` - 按标签获取单词
- Dashboard: w 键快捷进入单词本选择

### v2.4 (2025-11-30)
**浮窗功能**
- Dictionary: Enter 打开浮窗查看完整单词信息
- History: Enter 打开浮窗查看历史记录详情（含单词完整信息）
- 浮窗支持 j/k 滚动，q 关闭
- 浮窗居中显示（80% 宽度，90% 高度）
- 自动显示滚动条

### v2.3 (2025-11-30)
**双面板独立滚动 + Dictionary 完整增强**
- Review: 释义和词形变化面板独立滚动
- Review: h/l/Tab 切换面板焦点，j/k 滚动当前面板
- Review: 边框颜色反馈（青色/品红）+ [FOCUSED] 标记
- Dictionary: 详情面板从 8 行增加到 20 行
- Dictionary: 显示所有 ECDICT 元数据
- Dictionary: h/l 滚动详情面板
- 交互设计文档化

### v2.2.1 (2025-11-30)
**布局优化 + 词性解析**
- Review: 左右分栏布局（70% 释义 + 30% 词形变化）
- Review: 中文释义置顶，英文定义居中，词频信息底部
- 词性字段解析为中文（v:100 → v. 动词）
- 词形变化垂直排列，每个形式 2-3 行

### v2.2 (2025-11-30)
**ECDICT 完整元数据显示**
- Review: 显示 Exchange 字段（词形变化）
- Review: 显示柯林斯星级、牛津3000、考试标签
- Review: 词频信息（BNC + 当代语料库）
- 解析 Exchange 格式（p:过去式/d:过去分词/i:现在分词等）

### v2.1 (2025-11-30)
**滚动功能**
- Review: j/k 滚动定义文本
- Review: 自动显示滚动条
- History: j/k 导航，PageUp/Down 翻页，g/G 首尾跳转
- History: 当前项高亮（>> 前缀 + 青色）

### v2.0 (2025-11-30)
**ECDICT 集成**
- 双数据库架构（dict_conn + learn_conn）
- Word 结构更新（12 个字段）
- 智能选词算法（牛津3000 > 柯林斯 > BNC/FRQ）
- 搜索功能（支持中英文，智能排序）

### v1.0 (2025-11)
**初始版本**
- SM-2 算法实现
- SQLite 本地存储
- TUI 界面（ratatui）
- 基础 Review 流程
- JSON 词库导入

## 待开发功能

### 短期
- [ ] 配置系统（每日新词数量、复习时间等）
- [ ] 导出学习报告（Markdown/PDF）
- [ ] 单词标记系统（收藏、难点）
- [ ] 音频发音支持

### 中期
- [ ] 例句显示（从 ECDICT 或在线词典）
- [ ] 单词卡片自定义（字段显示开关）
- [ ] 多语言支持（界面本地化）
- [ ] 主题系统（颜色方案）

### 长期
- [ ] 云同步（可选）
- [ ] Web 界面（作为补充）
- [ ] 移动端适配
- [ ] 社区词库分享

## 文档说明

### 文档结构
项目文档分为 4 个核心文件：

1. **README.md** - 项目概览，面向用户
   - 项目简介和特性
   - 快速开始步骤
   - 键位绑定表
   - 技术栈和版本历史

2. **QUICKSTART.md** - 快速上手，面向新用户
   - 安装步骤
   - 基本操作说明
   - 学习建议
   - 常见问题

3. **FEATURES.md（本文件）** - 功能清单，面向所有人
   - 已实现功能列表
   - 版本历史（简要）
   - 待开发功能
   - 新功能添加流程

4. **DEVELOPMENT.md** - 开发文档，面向开发者
   - 架构设计
   - 核心技术实现
   - 数据模型
   - UI 布局方案
   - 代码示例
   - 开发流程

### 添加新功能时
1. 在本文件（FEATURES.md）添加版本记录（简短，3-5 条要点）
2. 在 DEVELOPMENT.md 添加技术实现（如有复杂逻辑）
3. 在 README.md 更新键位表（如有新键位）
4. 不要创建新的详细文档

### 文档风格
- **简洁优先**：用列表代替段落
- **要点突出**：每条不超过 1 行
- **技术细节**：放在 DEVELOPMENT.md
- **用户指南**：放在 README.md 或 QUICKSTART.md
